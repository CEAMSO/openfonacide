{% load staticfiles %}
<html>

    <head>

        <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
        <link href="{% static 'css/ripples.min.css' %}" rel="stylesheet">
        <link href="{% static 'css/material-wfont.min.css' %}" rel="stylesheet">
        <link href="{% static 'css/leaflet.css' %}" rel="stylesheet">
        <link href="{% static 'css/MarkerCluster.css' %}" rel="stylesheet">
        <link href="{% static 'css/custom.css' %}" rel="stylesheet">

    </head>

    <body  ng-app="frontEnd" >

        <!-- Your site -->

        <div class="container"ng-controller="PageController">

            <div id="principal" class="col-md-12" ng-controller="MapController">
                <div id="loading_map" class="" ng-show="isTab('map') && loading" style="top: 60px">
                    <div class="well"  style="text-align: center; height: 60px" >
                        <i id="spinner" class="mdi-image-rotate-right" style="font-size: 24px; display:inline-block"></i>
                    </div>
                </div>
                <site-nav></site-nav>
                <div id="map" class="row" ng-show="isTab('map')">
                </div>

                <home ng-show="isTab('home')"></home>
                <api ng-show="isTab('api')"></api>
                <institucion-list ng-show="isTab('instituciones')"></institucion-list>
                <institucion-modal></institucion-modal>
             </div>
        </div>

        <!-- Your site ends -->

        <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

        <script src="{% static 'js/ripples.min.js' %}"></script>
        <script src="{% static 'js/material.min.js' %}"></script>
        <script src="{% static 'js/leaflet.js' %}"></script>
        <script src="{% static 'js/leaflet.markercluster.js' %}"></script>
        <script src="{% static 'js/angular.min.js' %}"></script>
        <script src="{% static 'js/angular-resource.min.js' %}"></script>
        <script src="{% static 'js/frontend.js' %}"></script>
        <script>
            var $MapController;
            $(document).ready(function () {
                $.material.init();
                var boolDirection = true;
                $MapController = angular.element($('#spinner')).scope();

                function AnimateRotate(angle) {
                    // caching the object for performance reasons
                    var $elem = $('#spinner');

                    // we use a pseudo object for the animation
                    // (starts from `0` to `angle`), you can name it as you want
                    $({deg: 0}).animate({deg: angle}, {
                        duration: 2000,
                        step: function (now) {
                            // in the step-callback (that is fired each step of the animation),
                            // you can use the `now` paramter which contains the current
                            // animation-position (`0` up to `angle`)
                            $elem.css({
                                transform: 'rotate(' + now + 'deg)'
                            });
                        },
                        complete: function () {
                            if ($MapController.loading)
                                AnimateRotate(360);
                        }
                    });
                }

                AnimateRotate(360);

            });
            function openPopUp(codigoEstablecimiento, title){
                    $MapController.showInfoPopUp(codigoEstablecimiento, title);
                $('#info_modal').modal('show');
            }

        </script>



    <footer-info></footer-info>

    </body>

</html>
